<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Secure Tracking | Kash Option Elite</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet" />

  <!-- Leaflet Map -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <style>
    body { background:#020617; font-family:'Plus Jakarta Sans',sans-serif; color:white; }
    .glass { background:rgba(255,255,255,0.03); backdrop-filter:blur(12px); border:1px solid rgba(255,255,255,0.08); }
    #map { height: 300px; border-radius: 1.5rem; margin-top: 1rem; }
  </style>
</head>

<body class="min-h-screen">

<nav class="p-6 flex justify-between items-center max-w-6xl mx-auto">
  <a href="index.html" class="flex items-center gap-2">
    <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
      <i class="fas fa-truck-fast text-xs"></i>
    </div>
    <span class="font-black tracking-tighter uppercase italic">Kash Option</span>
  </a>
  <button onclick="document.getElementById('staff').classList.toggle('hidden')" class="text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-white">
    Staff Entry
  </button>
</nav>

<main class="max-w-4xl mx-auto px-6 py-12">

  <div class="text-center mb-12">
    <h2 class="text-5xl md:text-7xl font-black italic uppercase tracking-tighter mb-4">
      Secure <span class="text-blue-500">Tracking</span>
    </h2>

    <p class="text-slate-400 max-w-2xl mx-auto text-sm">
      We import and manage cargo from <strong>China, USA, UK & Europe</strong>.
      All shipment updates are officially logged and securely controlled.
    </p>
  </div>

  <form onsubmit="trackPackage(event)" class="relative max-w-xl mx-auto mb-10">
    <input id="trackId" required placeholder="ENTER TRACKING ID"
      class="w-full bg-white/5 border-2 border-white/10 p-6 rounded-full text-center font-black text-xl uppercase tracking-widest focus:border-blue-500 outline-none">
    <button type="submit"
      class="mt-6 w-full bg-blue-600 hover:bg-blue-500 px-10 py-4 rounded-full font-black uppercase">
      Track Now
    </button>
  </form>

  <div id="result" class="max-w-xl mx-auto"></div>

</main>

<!-- ADMIN MODAL (UNCHANGED LOGIC) -->
<div id="staff" class="hidden fixed inset-0 bg-black/95 z-[100] p-6">

  <div id="pin-gate" class="max-w-md mx-auto mt-32 text-center">
    <div class="w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-8">
      <i class="fas fa-lock text-3xl"></i>
    </div>
    <h3 class="text-3xl font-black mb-6 uppercase italic">Admin Access</h3>
    <input id="pin" type="password" placeholder="••••••"
      class="w-full bg-white/5 border p-5 rounded-2xl mb-4 text-center text-2xl tracking-[0.5em] font-bold">
    <button onclick="checkPin()" class="w-full bg-blue-600 py-5 rounded-2xl font-black uppercase">
      Verify Authority
    </button>
  </div>

  <form id="admin-form" class="hidden max-w-2xl mx-auto mt-10 space-y-6 glass p-10 rounded-[3rem]"
    onsubmit="updateTrack(event)">

    <h3 class="text-2xl font-black uppercase italic text-blue-500">Update Logistics</h3>

    <div class="grid md:grid-cols-2 gap-6">
      <input id="adm-id" required placeholder="Tracking ID" class="bg-white/5 p-4 rounded-xl font-bold uppercase">
      <input id="adm-name" required placeholder="Client Full Name" class="bg-white/5 p-4 rounded-xl font-bold">
      <select id="adm-status" class="bg-slate-800 p-4 rounded-xl font-bold">
        <option>In Transit</option>
        <option>Shipped</option>
        <option>Arrived at Port</option>
        <option>Ready for Pickup</option>
        <option>Delivered</option>
        <option>Delayed</option>
      </select>
      <input id="adm-loc" placeholder="Current City / Port" class="bg-white/5 p-4 rounded-xl font-bold">
    </div>

    <input id="adm-eta" placeholder="ETA / Arrival Date" class="w-full bg-white/5 p-4 rounded-xl font-bold">

    <button class="w-full bg-blue-600 py-6 rounded-2xl font-black uppercase">
      Commit to Database
    </button>
  </form>
</div>

<footer class="py-10 border-t border-white/5 text-center">
  <p class="text-[10px] font-black text-slate-700 uppercase tracking-[0.5em]">
    © 2025 KASH OPTION GLOBAL SYSTEMS
  </p>
</footer>

<script>
  const demoData = {
    "KO-992": {
      id: "KO-992",
      clientName: "John Doe",
      status: "In Transit",
      location: "Shanghai Port",
      eta: "Dec 28, 2025"
    }
  };

  const storeKey = "trackingData";
  const getStore = () => JSON.parse(localStorage.getItem(storeKey)) || demoData;
  const setStore = (d) => localStorage.setItem(storeKey, JSON.stringify(d));

  function trackPackage(e) {
    e.preventDefault();
    const id = trackId.value.toUpperCase().trim();
    const data = getStore()[id];

    if (!data) {
      result.innerHTML = `<div class="p-6 bg-red-500/10 rounded-xl text-center text-red-400">Tracking ID not recognized.</div>`;
      return;
    }

    result.innerHTML = `
      <div class="glass p-6 rounded-3xl space-y-2">
        <h4 class="text-2xl font-black uppercase">${data.status}</h4>
        <p><strong>Location:</strong> ${data.location}</p>
        <p><strong>ETA:</strong> ${data.eta}</p>
        <p><strong>Consignee:</strong> ${data.clientName}</p>
        <div id="map"></div>
        <p class="text-xs text-slate-400 mt-2">
          Map shows shipment progress based on latest logistics update.
        </p>
      </div>`;

    loadMap(data.location);
  }

  function loadMap(loc) {
    const points = {
      "Shanghai": [31.2304, 121.4737],
      "London": [51.5074, -0.1278],
      "New York": [40.7128, -74.0060],
      "Accra": [5.6037, -0.1870]
    };

    let coord = points["Accra"];
    Object.keys(points).forEach(k => { if (loc.includes(k)) coord = points[k]; });

    const map = L.map('map').setView(coord, 4);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
    L.marker(coord).addTo(map).bindPopup("Current checkpoint").openPopup();
  }

 <script>
function checkPin() {
  const entered = document.getElementById("pin").value.trim();

  if (entered === "767484") {
    document.getElementById("admin-form").classList.remove("hidden");
    document.getElementById("pin-gate").classList.add("hidden");
  } else {
    alert("Access Denied");
  }
}

function updateTrack(e) {
  e.preventDefault();

  const data = getStore();
  const id = document.getElementById("adm-id").value.toUpperCase().trim();

  data[id] = {
    id: id,
    clientName: document.getElementById("adm-name").value,
    status: document.getElementById("adm-status").value,
    location: document.getElementById("adm-loc").value,
    eta: document.getElementById("adm-eta").value
  };

  setStore(data);
  alert("Tracking info updated!");
  document.getElementById("admin-form").reset();
}
</script>
